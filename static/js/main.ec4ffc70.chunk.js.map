{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/Searchbar/Searchbar.module.css","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Modal/Modal.jsx","components/Button/Button.jsx","components/Loader/Loader.jsx","components/Searchbar/Searchbar.jsx","services/apiService.js","components/Toast/Toast.jsx","App.js","index.js"],"names":["module","exports","ImageGalleryItem","toggleModal","webImage","largeImage","tags","className","styles","onClick","event","target","dataset","alt","url","value","src","ImageGallery","photos","map","index","largeImageURL","webformatURL","modalRoot","document","querySelector","Modal","onClose","searchImage","useEffect","window","addEventListener","handleKeyDown","removeEventListener","e","code","createPortal","Overlay","currentTarget","Button","type","Spinner","Loader","color","height","width","timeout","Searchbar","onSubmit","useState","filter","setFilter","preventDefault","trim","toast","error","SearchForm","autoComplete","autoFocus","placeholder","onChange","toLowerCase","ApiService","this","searchQuery","page","a","axios","get","response","data","newQuery","Toast","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","apiService","STATUS","App","setSearchImage","showModal","setShowModal","status","setStatus","setPhotos","setPage","prevShowModal","resetPage","searchPhoto","then","newPhotos","total","warning","hits","prevPhotos","setTimeout","scrollBy","top","documentElement","clientHeight","behavior","incrementPage","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,yBAAyB,mD,mBCAzGD,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,aAAe,qC,mBCAjCD,EAAOC,QAAU,CAAC,OAAS,yB,mBCA3BD,EAAOC,QAAU,CAAC,OAAS,yB,4DCA3BD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,oBAAoB,qCAAqC,0BAA0B,2CAA2C,mBAAmB,sC,yICCxO,SAASC,EAAT,GAKX,IAJAC,EAID,EAJCA,YACAC,EAGD,EAHCA,SACAC,EAED,EAFCA,WACAC,EACD,EADCA,KAUA,OACI,oBAAIC,UAAWC,IAAON,iBAAkBO,QATnB,SAAAC,GACrB,MAAyBA,EAAMC,OAAvBC,EAAR,EAAQA,QAASC,EAAjB,EAAiBA,IACjBV,EAAY,CACRW,IAAKF,EAAQG,MACbF,SAKJ,SACI,qBACIN,UAAWC,IAAO,0BAClBQ,IAAKZ,EACLS,IAAKP,EACL,aAAYD,M,qBCjBb,SAASY,EAAT,GAAgD,IAAxBd,EAAuB,EAAvBA,YAAae,EAAU,EAAVA,OAChD,OACI,mCACI,oBAAIX,UAAWC,IAAOS,aAAtB,SACKC,EAAOC,KAAI,WAAwCC,GAAxC,IAAGC,EAAH,EAAGA,cAAeC,EAAlB,EAAkBA,aAAchB,EAAhC,EAAgCA,KAAhC,OACR,cAACJ,EAAD,CAEIE,SAAUkB,EACVjB,WAAYgB,EACZf,KAAMA,EACNH,YAAaA,GAJRiB,U,qBCNvBG,EAAYC,SAASC,cAAc,eAC1B,SAASC,EAAT,GAA0C,IAAzBC,EAAwB,EAAxBA,QAASC,EAAe,EAAfA,YAC7Bd,EAAac,EAAbd,IAAKD,EAAQe,EAARf,IAEbgB,qBAAU,WAEN,OADAC,OAAOC,iBAAiB,UAAWC,GAC5B,WACHF,OAAOG,oBAAoB,UAAWD,MAE3C,IAEH,IAAMA,EAAgB,SAAAE,GACH,WAAXA,EAAEC,MACFR,EAAQ,OAUhB,OAAOS,uBACH,qBAAK7B,UAAWC,IAAO6B,QAAS5B,QAPR,SAAAC,GACpBA,EAAM4B,gBAAkB5B,EAAMC,QAC9BgB,EAAQ,OAKZ,SACI,qBAAKpB,UAAWC,IAAOkB,MAAvB,SACI,qBAAKV,IAAKF,EAAKD,IAAKA,QAG5BU,G,qBCrBOgB,MAVf,YAA8B,IAAZ9B,EAAW,EAAXA,QACd,OACI,wBAAQ+B,KAAK,SAASjC,UAAWC,IAAO+B,OAAQ9B,QAASA,EAAzD,wB,kCCHO,SAASgC,IACpB,OACI,cAAC,IAAD,CACIlC,UAAWC,IAAOkC,OAClBF,KAAK,eACLG,MAAM,UACNC,OAAQ,IACRC,MAAO,IACPC,QAAS,M,oBCNN,SAASC,EAAT,GAAkC,IAAbC,EAAY,EAAZA,SAChC,EAA4BC,mBAAS,IAArC,mBAAOC,EAAP,KAAeC,EAAf,KAaA,OACI,wBAAQ5C,UAAWC,IAAOuC,UAA1B,SACI,uBAAMC,SAVO,SAAAtC,GAEjB,GADAA,EAAM0C,iBACgB,KAAlBF,EAAOG,OACP,OAAOC,IAAMC,MAAM,eAEvBP,EAASE,GACTC,EAAU,KAIwB5C,UAAWC,IAAOgD,WAAhD,UACI,wBAAQhB,KAAK,SAASjC,UAAWC,IAAO,qBAAxC,SACI,sBAAMD,UAAWC,IAAO,2BAAxB,sBAKJ,uBACID,UAAWC,IAAO,oBAClBgC,KAAK,OACLiB,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZ5C,MAAOmC,EACPU,SA5BU,SAAAlD,GACtB,IAAMK,EAAQL,EAAMC,OAAOI,MAAM8C,cACjCV,EAAUpC,W,8DCJG+C,E,WACjB,aAAe,oBACXC,KAAKC,YAAc,GACnBD,KAAKE,KAAO,E,sFAEhB,8BAAAC,EAAA,6DACUpD,EADV,UAPa,0BAOb,eACkCiD,KAAKC,YADvC,iBAC2DD,KAAKE,KADhE,gBANY,qCAMZ,iEAE2BE,IAAMC,IAAItD,GAFrC,cAEUuD,EAFV,yBAGWA,EAASC,MAHpB,gD,iFAKA,WACIP,KAAKE,MAAQ,I,uBAGjB,WACIF,KAAKE,KAAO,I,qBAGhB,SAAQA,GACJF,KAAKE,KAAOA,I,iBAGhB,WACI,OAAOF,KAAKC,a,IAGhB,SAAUO,GACNR,KAAKC,YAAcO,M,WC5BZ,SAASC,IACpB,OACI,cAAC,IAAD,CACIC,SAAS,YACTC,UAAW,IACXC,iBAAiB,EACjBC,aAAa,EACbC,cAAY,EACZC,KAAK,EACLC,kBAAgB,EAChBC,WAAS,EACTC,cAAY,ICHxB,IAAMC,EAAa,IAAIpB,EAEjBqB,EACI,OADJA,EAEO,UAFPA,EAGQ,WAGC,SAASC,IACpB,MAA4BnC,mBAAS,IAArC,mBAAOC,EAAP,KAAeC,EAAf,KACA,EAAsCF,mBAAS,MAA/C,mBAAOrB,EAAP,KAAoByD,EAApB,KACA,EAAkCpC,oBAAS,GAA3C,mBAAOqC,EAAP,KAAkBC,EAAlB,KACA,EAA4BtC,mBAASkC,GAArC,mBAAOK,EAAP,KAAeC,EAAf,KACA,EAA4BxC,mBAAS,IAArC,mBAAO/B,EAAP,KAAewE,EAAf,KACA,EAAwBzC,mBAAS,GAAjC,mBAAOgB,EAAP,KAAa0B,EAAb,KAEMxF,EAAc,SAAAmE,GAChBiB,GAAa,SAAAK,GAAa,OAAKA,KAC/BP,EAAef,IAYnBzC,qBAAU,WACDqB,IAGLgC,EAAWW,YACXF,EAAQT,EAAWjB,MACnBwB,EAAUN,GACVD,EAAWlB,YAAcd,EACzBgC,EAAWY,cAAcC,MAAK,SAAAC,GAC1B,GAAwB,IAApBA,EAAUC,MAEV,OADAR,EAAUN,GACH7B,IAAM4C,QAAQ,iBAEzBR,EAAUM,EAAUG,MACpBV,EAAUN,SAEf,CAACjC,IAEJrB,qBAAU,WACO,IAAToC,IAGJwB,EAAUN,GACVD,EAAWY,cAAcC,MAAK,SAAAC,GAC1B,GAAwB,IAApBA,EAAUC,MAEV,OADAR,EAAUN,GACH7B,IAAM4C,QAAQ,sBAEzBR,GAAU,SAAAU,GAAU,4BAAQA,GAAR,YAAuBJ,EAAUG,UACrDV,EAAUN,GArCdkB,YAAW,WACPvE,OAAOwE,SAAS,CACZC,IAAK/E,SAASgF,gBAAgBC,aAC9BC,SAAU,aAEf,WAmCJ,CAACzC,IAOJ,OACI,sBAAK1D,UAAU,MAAf,UACI,cAACwC,EAAD,CAAWC,SAAUG,KAClBqC,IAAWL,GAA2B,IAATlB,GAC5BuB,IAAWL,IACX,cAAClE,EAAD,CAAcd,YAAaA,EAAae,OAAQA,IAEnDsE,IAAWL,GAAmB,cAAC,EAAD,CAAQ1E,QAZvB,WACpByE,EAAWyB,gBACXhB,EAAQT,EAAWjB,SAWduB,IAAWL,GAAkB,cAAC1C,EAAD,IAC9B,cAAC+B,EAAD,IACCc,GACG,cAAC5D,EAAD,CAAOE,YAAaA,EAAaD,QAASxB,OCtF1DyG,IAASC,OACL,cAAC,IAAMC,WAAP,UACI,cAAC,EAAD,MAEJtF,SAASuF,eAAe,W","file":"static/js/main.ec4ffc70.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__s54EB\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__2_Lba\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2zlvi\",\"Modal\":\"Modal_Modal__oJvAb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__5Sk85\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3Os7T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__ypQJt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2ytC5\",\"SearchForm\":\"Searchbar_SearchForm__1pn79\",\"SearchForm-button\":\"Searchbar_SearchForm-button__1hVVL\",\"SearchForm-button-label\":\"Searchbar_SearchForm-button-label__19I4m\",\"SearchForm-input\":\"Searchbar_SearchForm-input__1IB5D\"};","import PropTypes from 'prop-types';\r\nimport styles from './ImageGalleryItem.module.css';\r\nexport default function ImageGalleryItem({\r\n    toggleModal,\r\n    webImage,\r\n    largeImage,\r\n    tags,\r\n}) {\r\n    const handleImageClick = event => {\r\n        const { dataset, alt } = event.target;\r\n        toggleModal({\r\n            url: dataset.value,\r\n            alt,\r\n        });\r\n    };\r\n\r\n    return (\r\n        <li className={styles.ImageGalleryItem} onClick={handleImageClick}>\r\n            <img\r\n                className={styles['ImageGalleryItem-image']}\r\n                src={webImage}\r\n                alt={tags}\r\n                data-value={largeImage}\r\n            />\r\n        </li>\r\n    );\r\n}\r\nImageGalleryItem.propTypes = {\r\n    toggleModal: PropTypes.func.isRequired,\r\n    webImage: PropTypes.string.isRequired,\r\n    largeImage: PropTypes.string.isRequired,\r\n    tags: PropTypes.string.isRequired,\r\n};\r\n","import PropTypes from 'prop-types';\r\n\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport styles from './ImageGallery.module.css';\r\n\r\nexport default function ImageGallery({ toggleModal, photos }) {\r\n    return (\r\n        <>\r\n            <ul className={styles.ImageGallery}>\r\n                {photos.map(({ largeImageURL, webformatURL, tags }, index) => (\r\n                    <ImageGalleryItem\r\n                        key={index}\r\n                        webImage={webformatURL}\r\n                        largeImage={largeImageURL}\r\n                        tags={tags}\r\n                        toggleModal={toggleModal}\r\n                    />\r\n                ))}\r\n            </ul>\r\n        </>\r\n    );\r\n}\r\nImageGallery.propTypes = {\r\n    toggleModal: PropTypes.func.isRequired,\r\n    photos: PropTypes.arrayOf(\r\n        PropTypes.shape({\r\n            largeImageURL: PropTypes.string.isRequired,\r\n            webformatURL: PropTypes.string.isRequired,\r\n            tags: PropTypes.string.isRequired,\r\n        }).isRequired,\r\n    ).isRequired,\r\n};\r\n","import PropTypes from 'prop-types';\r\nimport { useEffect } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport styles from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\nexport default function Modal({ onClose, searchImage }) {\r\n    const { url, alt } = searchImage;\r\n\r\n    useEffect(() => {\r\n        window.addEventListener('keydown', handleKeyDown);\r\n        return () => {\r\n            window.removeEventListener('keydown', handleKeyDown);\r\n        };\r\n    }, []);\r\n\r\n    const handleKeyDown = e => {\r\n        if (e.code === 'Escape') {\r\n            onClose(null);\r\n        }\r\n    };\r\n\r\n    const handleBackdropClick = event => {\r\n        if (event.currentTarget === event.target) {\r\n            onClose(null);\r\n        }\r\n    };\r\n\r\n    return createPortal(\r\n        <div className={styles.Overlay} onClick={handleBackdropClick}>\r\n            <div className={styles.Modal}>\r\n                <img src={url} alt={alt} />\r\n            </div>\r\n        </div>,\r\n        modalRoot,\r\n    );\r\n}\r\nModal.propTypes = {\r\n    onClose: PropTypes.func.isRequired,\r\n    searchImage: PropTypes.shape({\r\n        url: PropTypes.string.isRequired,\r\n        alt: PropTypes.string.isRequired,\r\n    }).isRequired,\r\n};\r\n","import PropTypes from 'prop-types';\r\n\r\nimport styles from './Button.module.css';\r\nfunction Button({ onClick }) {\r\n    return (\r\n        <button type=\"button\" className={styles.Button} onClick={onClick}>\r\n            Load more\r\n        </button>\r\n    );\r\n}\r\nButton.propTypes = {\r\n    onClick: PropTypes.func.isRequired,\r\n};\r\nexport default Button;\r\n","import Loader from 'react-loader-spinner';\r\nimport styles from './Loader.module.css';\r\nexport default function Spinner() {\r\n    return (\r\n        <Loader\r\n            className={styles.Loader}\r\n            type=\"BallTriangle\"\r\n            color=\"#3f51b5\"\r\n            height={100}\r\n            width={100}\r\n            timeout={10000}\r\n        />\r\n    );\r\n}\r\n","import { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { toast } from 'react-toastify';\r\nimport styles from './Searchbar.module.css';\r\nexport default function Searchbar({ onSubmit }) {\r\n    const [filter, setFilter] = useState('');\r\n    const handleInputChange = event => {\r\n        const value = event.target.value.toLowerCase();\r\n        setFilter(value);\r\n    };\r\n    const handleSubmit = event => {\r\n        event.preventDefault();\r\n        if (filter.trim() === '') {\r\n            return toast.error('Empty input');\r\n        }\r\n        onSubmit(filter);\r\n        setFilter('');\r\n    };\r\n    return (\r\n        <header className={styles.Searchbar}>\r\n            <form onSubmit={handleSubmit} className={styles.SearchForm}>\r\n                <button type=\"submit\" className={styles['SearchForm-button']}>\r\n                    <span className={styles['SearchForm-button-label']}>\r\n                        Search\r\n                    </span>\r\n                </button>\r\n\r\n                <input\r\n                    className={styles['SearchForm-input']}\r\n                    type=\"text\"\r\n                    autoComplete=\"off\"\r\n                    autoFocus\r\n                    placeholder=\"Search images and photos\"\r\n                    value={filter}\r\n                    onChange={handleInputChange}\r\n                />\r\n            </form>\r\n        </header>\r\n    );\r\n}\r\n\r\nSearchbar.propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n};\r\n","import axios from 'axios';\r\n\r\nconst BASE_URL = 'https://pixabay.com/api';\r\nconst API_KEY = '23883543-c0e8a740f16e18e27aeb57e6b';\r\nexport default class ApiService {\r\n    constructor() {\r\n        this.searchQuery = '';\r\n        this.page = 1;\r\n    }\r\n    async searchPhoto() {\r\n        const url = `${BASE_URL}/?q=${this.searchQuery}&page=${this.page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`;\r\n        const response = await axios.get(url);\r\n        return response.data;\r\n    }\r\n    incrementPage() {\r\n        this.page += 1;\r\n    }\r\n\r\n    resetPage() {\r\n        this.page = 1;\r\n    }\r\n\r\n    setPage(page) {\r\n        this.page = page;\r\n    }\r\n\r\n    get query() {\r\n        return this.searchQuery;\r\n    }\r\n\r\n    set query(newQuery) {\r\n        this.searchQuery = newQuery;\r\n    }\r\n}\r\n","import { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nexport default function Toast() {\n    return (\n        <ToastContainer\n            position=\"top-right\"\n            autoClose={5000}\n            hideProgressBar={false}\n            newestOnTop={false}\n            closeOnClick\n            rtl={false}\n            pauseOnFocusLoss\n            draggable\n            pauseOnHover\n        />\n    );\n}\n","import { useState, useEffect } from 'react';\nimport { toast } from 'react-toastify';\n\nimport './App.css';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Modal from './components/Modal/Modal';\nimport Button from './components/Button/Button';\nimport Spinner from './components/Loader/Loader';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ApiService from './services/apiService';\nimport Toast from './components/Toast/Toast';\nconst apiService = new ApiService();\n\nconst STATUS = {\n    idle: 'idle',\n    pending: 'pending',\n    resolved: 'resolved',\n};\n\nexport default function App() {\n    const [filter, setFilter] = useState('');\n    const [searchImage, setSearchImage] = useState(null);\n    const [showModal, setShowModal] = useState(false);\n    const [status, setStatus] = useState(STATUS.idle);\n    const [photos, setPhotos] = useState([]);\n    const [page, setPage] = useState(1);\n\n    const toggleModal = data => {\n        setShowModal(prevShowModal => !prevShowModal);\n        setSearchImage(data);\n    };\n\n    const smoothScroll = () => {\n        setTimeout(() => {\n            window.scrollBy({\n                top: document.documentElement.clientHeight,\n                behavior: 'smooth',\n            });\n        }, 400);\n    };\n\n    useEffect(() => {\n        if (!filter) {\n            return;\n        }\n        apiService.resetPage();\n        setPage(apiService.page);\n        setStatus(STATUS.pending);\n        apiService.searchQuery = filter;\n        apiService.searchPhoto().then(newPhotos => {\n            if (newPhotos.total === 0) {\n                setStatus(STATUS.idle);\n                return toast.warning('Nothing found');\n            }\n            setPhotos(newPhotos.hits);\n            setStatus(STATUS.resolved);\n        });\n    }, [filter]);\n\n    useEffect(() => {\n        if (page === 1) {\n            return;\n        }\n        setStatus(STATUS.pending);\n        apiService.searchPhoto().then(newPhotos => {\n            if (newPhotos.total === 0) {\n                setStatus(STATUS.idle);\n                return toast.warning('Nothing else found');\n            }\n            setPhotos(prevPhotos => [...prevPhotos, ...newPhotos.hits]);\n            setStatus(STATUS.resolved);\n            smoothScroll();\n        });\n    }, [page]);\n\n    const onLoadMoreClick = () => {\n        apiService.incrementPage();\n        setPage(apiService.page);\n    };\n\n    return (\n        <div className=\"App\">\n            <Searchbar onSubmit={setFilter} />\n            {((status === STATUS.pending && page !== 1) ||\n                status === STATUS.resolved) && (\n                <ImageGallery toggleModal={toggleModal} photos={photos} />\n            )}\n            {status === STATUS.resolved && <Button onClick={onLoadMoreClick} />}\n            {status === STATUS.pending && <Spinner />}\n            <Toast />\n            {showModal && (\n                <Modal searchImage={searchImage} onClose={toggleModal} />\n            )}\n        </div>\n    );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root'),\n);\n"],"sourceRoot":""}