{"version":3,"sources":["components/Searchbar/Searchbar.module.scss","components/ImageGalleryItem/ImageGalleryItem.module.scss","components/Modal/Modal.module.scss","components/Loader/Loader.module.scss","components/ImageGallery/ImageGallery.module.scss","components/Button/Button.module.scss","components/Loader/Loader.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","services/apiService.js","components/Button/Button.jsx","components/ImageGallery/ImageGallery.jsx","components/Modal/Modal.jsx","components/Searchbar/Searchbar.jsx","App.js","index.js"],"names":["module","exports","Spinner","className","styles","Loader","type","color","height","width","timeout","Component","ImageGalleryItem","handleImageClick","event","target","dataset","alt","props","toggleModal","url","value","this","webImage","largeImage","tags","onClick","src","ApiService","searchQuery","page","a","axios","get","response","data","newQuery","Button","apiService","STATUS","ImageGallery","filter","useState","status","setStatus","photos","setPhotos","setPage","useEffect","resetPage","searchPhoto","then","newPhotos","total","toast","warning","hits","prevPhotos","smoothScroll","setTimeout","window","scrollBy","top","document","documentElement","clientHeight","behavior","map","index","id","largeImageURL","webformatURL","incrementPage","modalRoot","querySelector","Modal","handleKeyDown","e","code","onClose","handleBackdropClick","currentTarget","addEventListener","removeEventListener","searchImage","createPortal","Overlay","Searchbar","onSubmit","setFilter","preventDefault","trim","error","SearchForm","autoComplete","autoFocus","placeholder","onChange","toLowerCase","App","setSearchImage","showModal","setShowModal","prevShowModal","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,oBAAoB,qCAAqC,0BAA0B,2CAA2C,mBAAmB,sC,mBCAvPD,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,yBAAyB,mD,mBCAzGD,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,OAAS,yB,mBCA3BD,EAAOC,QAAU,CAAC,aAAe,qC,mBCAjCD,EAAOC,QAAU,CAAC,OAAS,yB,uOCENC,E,4JACjB,WACI,OACI,cAAC,IAAD,CACIC,UAAWC,IAAOC,OAClBC,KAAK,eACLC,MAAM,UACNC,OAAQ,IACRC,MAAO,IACPC,QAAS,U,GATYC,a,iBCAhBC,E,4MACjBC,iBAAmB,SAAAC,GACf,MAAyBA,EAAMC,OAAvBC,EAAR,EAAQA,QAASC,EAAjB,EAAiBA,IACjB,EAAKC,MAAMC,YAAY,CACnBC,IAAKJ,EAAQK,MACbJ,S,4CAIR,WACI,MAAuCK,KAAKJ,MAApCK,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,WAAYC,EAA9B,EAA8BA,KAC9B,OACI,oBACItB,UAAWC,IAAOQ,iBAClBc,QAASJ,KAAKT,iBAFlB,SAII,qBACIV,UAAWC,IAAO,0BAClBuB,IAAKJ,EACLN,IAAKQ,EACL,aAAYD,U,GApBcb,a,2DCCzBiB,E,WACjB,aAAe,oBACXN,KAAKO,YAAc,GACnBP,KAAKQ,KAAO,E,sFAEhB,8BAAAC,EAAA,6DACUX,EADV,UAPa,0BAOb,eACkCE,KAAKO,YADvC,iBAC2DP,KAAKQ,KADhE,gBANY,qCAMZ,iEAE2BE,IAAMC,IAAIb,GAFrC,cAEUc,EAFV,yBAGWA,EAASC,MAHpB,gD,iFAKA,WACIb,KAAKQ,MAAQ,I,uBAGjB,WACIR,KAAKQ,KAAO,I,qBAGhB,SAAQA,GACJR,KAAKQ,KAAOA,I,iBAGhB,WACI,OAAOR,KAAKO,a,IAGhB,SAAUO,GACNd,KAAKO,YAAcO,M,sBClBZC,MAVf,YAA8B,IAAZX,EAAW,EAAXA,QACd,OACI,wBAAQpB,KAAK,SAASH,UAAWC,IAAOiC,OAAQX,QAASA,EAAzD,wBCIFY,EAAa,IAAIV,EAEjBW,EACI,OADJA,EAEO,UAFPA,EAGQ,WAGC,SAASC,EAAT,GAAgD,IAAxBrB,EAAuB,EAAvBA,YAAasB,EAAU,EAAVA,OAChD,EAA4BC,mBAASH,GAArC,mBAAOI,EAAP,KAAeC,EAAf,KACA,EAA4BF,mBAAS,IAArC,mBAAOG,EAAP,KAAeC,EAAf,KACA,EAAwBJ,mBAAS,GAAjC,mBAAOZ,EAAP,KAAaiB,EAAb,KACAC,qBAAU,WACDP,IAGLG,EAAUL,GACVD,EAAWT,YAAcY,EACzBH,EAAWW,YACXX,EAAWY,cAAcC,MAAK,SAAAC,GAC1B,GAAwB,IAApBA,EAAUC,MAEV,OADAT,EAAUL,GACHe,IAAMC,QAAQ,iBAEzBT,EAAUM,EAAUI,MACpBZ,EAAUL,SAEf,CAACE,IAEJO,qBAAU,WACO,IAATlB,IAGJc,EAAUL,GAEVD,EAAWY,cAAcC,MAAK,SAAAC,GAC1B,GAAwB,IAApBA,EAAUC,MAEV,OADAT,EAAUL,GACHe,IAAMC,QAAQ,sBAEzBT,GAAU,SAAAW,GAAU,4BAAQA,GAAR,YAAuBL,EAAUI,UACrDZ,EAAUL,GACVmB,UAEL,CAAC5B,IAEJ,IAKM4B,EAAe,WACjBC,YAAW,WACPC,OAAOC,SAAS,CACZC,IAAKC,SAASC,gBAAgBC,aAC9BC,SAAU,aAEf,MAGP,OAAIvB,IAAWJ,EACJ,KAGNI,IAAWJ,GAA2B,IAATT,GAC9Ba,IAAWJ,EAGP,qCACI,oBAAIpC,UAAWC,IAAOoC,aAAtB,SACKK,EAAOsB,KACJ,WAA4CC,GAA5C,EAAGC,GAAH,IAAOC,EAAP,EAAOA,cAAeC,EAAtB,EAAsBA,aAAc9C,EAApC,EAAoCA,KAApC,OACI,cAAC,EAAD,CAEIF,SAAUgD,EACV/C,WAAY8C,EACZ7C,KAAMA,EACNN,YAAaA,GAJRiD,QASpBzB,IAAWJ,EACR,cAAC,EAAD,CAAQb,QArCR,WACZY,EAAWkC,gBACXzB,EAAQT,EAAWR,SAqCP,cAAC,EAAD,OAILa,IAAWJ,EACX,cAAC,EAAD,SADJ,E,qBC7FLkC,EAAYV,SAASW,cAAc,eACpBC,E,4MASjBC,cAAgB,SAAAC,GACG,WAAXA,EAAEC,MACF,EAAK5D,MAAM6D,QAAQ,O,EAI3BC,oBAAsB,SAAAlE,GACdA,EAAMmE,gBAAkBnE,EAAMC,QAC9B,EAAKG,MAAM6D,QAAQ,O,uDAhB3B,WACInB,OAAOsB,iBAAiB,UAAW5D,KAAKsD,iB,kCAG5C,WACIhB,OAAOuB,oBAAoB,UAAW7D,KAAKsD,iB,oBAc/C,WACI,MAAqBtD,KAAKJ,MAAMkE,YAAxBhE,EAAR,EAAQA,IAAKH,EAAb,EAAaA,IACb,OAAOoE,uBACH,qBAAKlF,UAAWC,IAAOkF,QAAS5D,QAASJ,KAAK0D,oBAA9C,SACI,qBAAK7E,UAAWC,IAAOuE,MAAvB,SACI,qBAAKhD,IAAKP,EAAKH,IAAKA,QAG5BwD,O,GA5BuB9D,a,iBCFpB,SAAS4E,EAAT,GAAkC,IAAbC,EAAY,EAAZA,SAChC,EAA4B9C,mBAAS,IAArC,mBAAOD,EAAP,KAAegD,EAAf,KAaA,OACI,wBAAQtF,UAAWC,IAAOmF,UAA1B,SACI,uBAAMC,SAVO,SAAA1E,GAEjB,GADAA,EAAM4E,iBACgB,KAAlBjD,EAAOkD,OACP,OAAOrC,IAAMsC,MAAM,eAEvBJ,EAAS/C,GACTgD,EAAU,KAIwBtF,UAAWC,IAAOyF,WAAhD,UACI,wBAAQvF,KAAK,SAASH,UAAWC,IAAO,qBAAxC,SACI,sBAAMD,UAAWC,IAAO,2BAAxB,sBAKJ,uBACID,UAAWC,IAAO,oBAClBE,KAAK,OACLwF,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZ3E,MAAOoB,EACPwD,SA5BU,SAAAnF,GACtB,IAAMO,EAAQP,EAAMC,OAAOM,MAAM6E,cACjCT,EAAUpE,WCAH,SAAS8E,IACpB,MAA4BzD,mBAAS,IAArC,mBAAOD,EAAP,KAAegD,EAAf,KACA,EAAsC/C,mBAAS,MAA/C,mBAAO0C,EAAP,KAAoBgB,EAApB,KACA,EAAkC1D,oBAAS,GAA3C,mBAAO2D,EAAP,KAAkBC,EAAlB,KAEMnF,EAAc,SAAAgB,GAChBiE,EAAejE,GACfmE,GAAa,SAAAC,GAAa,OAAKA,MAEnC,OACI,sBAAKpG,UAAU,MAAf,UACI,cAACoF,EAAD,CAAWC,SAAUC,IACrB,cAACjD,EAAD,CAAcrB,YAAaA,EAAasB,OAAQA,IAChD,cAAC,IAAD,CACI+D,SAAS,YACTC,UAAW,IACXC,iBAAiB,EACjBC,aAAa,EACbC,cAAY,EACZC,KAAK,EACLC,kBAAgB,EAChBC,WAAS,EACTC,cAAY,IAEfX,GACG,cAAC,EAAD,CAAOjB,YAAaA,EAAaL,QAAS5D,OC5B1D8F,IAASC,OACL,cAAC,IAAMC,WAAP,UACI,cAAC,EAAD,MAEJpD,SAASqD,eAAe,W","file":"static/js/main.5edacefc.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__nCXIQ\",\"SearchForm\":\"Searchbar_SearchForm__3f15K\",\"SearchForm-button\":\"Searchbar_SearchForm-button__2OmPN\",\"SearchForm-button-label\":\"Searchbar_SearchForm-button-label__3HvJ5\",\"SearchForm-input\":\"Searchbar_SearchForm-input__QIhCM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2qFwm\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__3mEHv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__AV7Ff\",\"Modal\":\"Modal_Modal__265jm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__3lFQf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2oNxe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2zb7T\"};","import { Component } from 'react';\r\nimport Loader from 'react-loader-spinner';\r\nimport styles from './Loader.module.scss';\r\nexport default class Spinner extends Component {\r\n    render() {\r\n        return (\r\n            <Loader\r\n                className={styles.Loader}\r\n                type=\"BallTriangle\"\r\n                color=\"#3f51b5\"\r\n                height={100}\r\n                width={100}\r\n                timeout={10000}\r\n            />\r\n        );\r\n    }\r\n}\r\n","import PropTypes from 'prop-types';\r\nimport { Component } from 'react';\r\nimport styles from './ImageGalleryItem.module.scss';\r\nexport default class ImageGalleryItem extends Component {\r\n    handleImageClick = event => {\r\n        const { dataset, alt } = event.target;\r\n        this.props.toggleModal({\r\n            url: dataset.value,\r\n            alt,\r\n        });\r\n    };\r\n\r\n    render() {\r\n        const { webImage, largeImage, tags } = this.props;\r\n        return (\r\n            <li\r\n                className={styles.ImageGalleryItem}\r\n                onClick={this.handleImageClick}\r\n            >\r\n                <img\r\n                    className={styles['ImageGalleryItem-image']}\r\n                    src={webImage}\r\n                    alt={tags}\r\n                    data-value={largeImage}\r\n                />\r\n            </li>\r\n        );\r\n    }\r\n}\r\nImageGalleryItem.propTypes = {\r\n    toggleModal: PropTypes.func.isRequired,\r\n    webImage: PropTypes.string.isRequired,\r\n    largeImage: PropTypes.string.isRequired,\r\n    tags: PropTypes.string.isRequired,\r\n};\r\n","import axios from 'axios';\r\n\r\nconst BASE_URL = 'https://pixabay.com/api';\r\nconst API_KEY = '23883543-c0e8a740f16e18e27aeb57e6b';\r\nexport default class ApiService {\r\n    constructor() {\r\n        this.searchQuery = '';\r\n        this.page = 1;\r\n    }\r\n    async searchPhoto() {\r\n        const url = `${BASE_URL}/?q=${this.searchQuery}&page=${this.page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`;\r\n        const response = await axios.get(url);\r\n        return response.data;\r\n    }\r\n    incrementPage() {\r\n        this.page += 1;\r\n    }\r\n\r\n    resetPage() {\r\n        this.page = 1;\r\n    }\r\n\r\n    setPage(page) {\r\n        this.page = page;\r\n    }\r\n\r\n    get query() {\r\n        return this.searchQuery;\r\n    }\r\n\r\n    set query(newQuery) {\r\n        this.searchQuery = newQuery;\r\n    }\r\n}\r\n","import PropTypes from 'prop-types';\r\n\r\nimport styles from './Button.module.scss';\r\nfunction Button({ onClick }) {\r\n    return (\r\n        <button type=\"button\" className={styles.Button} onClick={onClick}>\r\n            Load more\r\n        </button>\r\n    );\r\n}\r\nButton.propTypes = {\r\n    onClick: PropTypes.func.isRequired,\r\n};\r\nexport default Button;\r\n","import PropTypes from 'prop-types';\r\nimport { useState, useEffect } from 'react';\r\nimport { toast } from 'react-toastify';\r\n\r\nimport Spinner from '../Loader/Loader';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport styles from './ImageGallery.module.scss';\r\nimport ApiService from '../../services/apiService';\r\nimport Button from '../Button/Button';\r\nconst apiService = new ApiService();\r\n\r\nconst STATUS = {\r\n    idle: 'idle',\r\n    pending: 'pending',\r\n    resolved: 'resolved',\r\n};\r\n\r\nexport default function ImageGallery({ toggleModal, filter }) {\r\n    const [status, setStatus] = useState(STATUS.idle);\r\n    const [photos, setPhotos] = useState([]);\r\n    const [page, setPage] = useState(1);\r\n    useEffect(() => {\r\n        if (!filter) {\r\n            return;\r\n        }\r\n        setStatus(STATUS.pending);\r\n        apiService.searchQuery = filter;\r\n        apiService.resetPage();\r\n        apiService.searchPhoto().then(newPhotos => {\r\n            if (newPhotos.total === 0) {\r\n                setStatus(STATUS.idle);\r\n                return toast.warning('Nothing found');\r\n            }\r\n            setPhotos(newPhotos.hits);\r\n            setStatus(STATUS.resolved);\r\n        });\r\n    }, [filter]);\r\n\r\n    useEffect(() => {\r\n        if (page === 1) {\r\n            return;\r\n        }\r\n        setStatus(STATUS.pending);\r\n\r\n        apiService.searchPhoto().then(newPhotos => {\r\n            if (newPhotos.total === 0) {\r\n                setStatus(STATUS.idle);\r\n                return toast.warning('Nothing else found');\r\n            }\r\n            setPhotos(prevPhotos => [...prevPhotos, ...newPhotos.hits]);\r\n            setStatus(STATUS.resolved);\r\n            smoothScroll();\r\n        });\r\n    }, [page]);\r\n\r\n    const onClick = () => {\r\n        apiService.incrementPage();\r\n        setPage(apiService.page);\r\n    };\r\n\r\n    const smoothScroll = () => {\r\n        setTimeout(() => {\r\n            window.scrollBy({\r\n                top: document.documentElement.clientHeight,\r\n                behavior: 'smooth',\r\n            });\r\n        }, 400);\r\n    };\r\n\r\n    if (status === STATUS.idle) {\r\n        return null;\r\n    }\r\n    if (\r\n        (status === STATUS.pending && page !== 1) ||\r\n        status === STATUS.resolved\r\n    ) {\r\n        return (\r\n            <>\r\n                <ul className={styles.ImageGallery}>\r\n                    {photos.map(\r\n                        ({ id, largeImageURL, webformatURL, tags }, index) => (\r\n                            <ImageGalleryItem\r\n                                key={index}\r\n                                webImage={webformatURL}\r\n                                largeImage={largeImageURL}\r\n                                tags={tags}\r\n                                toggleModal={toggleModal}\r\n                            />\r\n                        ),\r\n                    )}\r\n                </ul>\r\n                {status === STATUS.resolved ? (\r\n                    <Button onClick={onClick} />\r\n                ) : (\r\n                    <Spinner />\r\n                )}\r\n            </>\r\n        );\r\n    } else if (status === STATUS.pending) {\r\n        return <Spinner />;\r\n    }\r\n}\r\nImageGallery.propTypes = {\r\n    toggleModal: PropTypes.func.isRequired,\r\n    filter: PropTypes.string.isRequired,\r\n};\r\n","import PropTypes from 'prop-types';\r\nimport { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport styles from './Modal.module.scss';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\nexport default class Modal extends Component {\r\n    componentDidMount() {\r\n        window.addEventListener('keydown', this.handleKeyDown);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('keydown', this.handleKeyDown);\r\n    }\r\n\r\n    handleKeyDown = e => {\r\n        if (e.code === 'Escape') {\r\n            this.props.onClose(null);\r\n        }\r\n    };\r\n\r\n    handleBackdropClick = event => {\r\n        if (event.currentTarget === event.target) {\r\n            this.props.onClose(null);\r\n        }\r\n    };\r\n    render() {\r\n        const { url, alt } = this.props.searchImage;\r\n        return createPortal(\r\n            <div className={styles.Overlay} onClick={this.handleBackdropClick}>\r\n                <div className={styles.Modal}>\r\n                    <img src={url} alt={alt} />\r\n                </div>\r\n            </div>,\r\n            modalRoot,\r\n        );\r\n    }\r\n}\r\nModal.propTypes = {\r\n    onClose: PropTypes.func.isRequired,\r\n    searchImage: PropTypes.shape({\r\n        url: PropTypes.string.isRequired,\r\n        alt: PropTypes.string.isRequired,\r\n    }).isRequired,\r\n};\r\n","import { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { toast } from 'react-toastify';\r\nimport styles from './Searchbar.module.scss';\r\nexport default function Searchbar({ onSubmit }) {\r\n    const [filter, setFilter] = useState('');\r\n    const handleInputChange = event => {\r\n        const value = event.target.value.toLowerCase();\r\n        setFilter(value);\r\n    };\r\n    const handleSubmit = event => {\r\n        event.preventDefault();\r\n        if (filter.trim() === '') {\r\n            return toast.error('Empty input');\r\n        }\r\n        onSubmit(filter);\r\n        setFilter('');\r\n    };\r\n    return (\r\n        <header className={styles.Searchbar}>\r\n            <form onSubmit={handleSubmit} className={styles.SearchForm}>\r\n                <button type=\"submit\" className={styles['SearchForm-button']}>\r\n                    <span className={styles['SearchForm-button-label']}>\r\n                        Search\r\n                    </span>\r\n                </button>\r\n\r\n                <input\r\n                    className={styles['SearchForm-input']}\r\n                    type=\"text\"\r\n                    autoComplete=\"off\"\r\n                    autoFocus\r\n                    placeholder=\"Search images and photos\"\r\n                    value={filter}\r\n                    onChange={handleInputChange}\r\n                />\r\n            </form>\r\n        </header>\r\n    );\r\n}\r\n\r\nSearchbar.propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n};\r\n","import { useState } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport './App.css';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Modal from './components/Modal/Modal';\nimport Searchbar from './components/Searchbar/Searchbar';\nexport default function App() {\n    const [filter, setFilter] = useState('');\n    const [searchImage, setSearchImage] = useState(null);\n    const [showModal, setShowModal] = useState(false);\n\n    const toggleModal = data => {\n        setSearchImage(data);\n        setShowModal(prevShowModal => !prevShowModal);\n    };\n    return (\n        <div className=\"App\">\n            <Searchbar onSubmit={setFilter} />\n            <ImageGallery toggleModal={toggleModal} filter={filter} />\n            <ToastContainer\n                position=\"top-right\"\n                autoClose={5000}\n                hideProgressBar={false}\n                newestOnTop={false}\n                closeOnClick\n                rtl={false}\n                pauseOnFocusLoss\n                draggable\n                pauseOnHover\n            />\n            {showModal && (\n                <Modal searchImage={searchImage} onClose={toggleModal} />\n            )}\n        </div>\n    );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root'),\n);\n"],"sourceRoot":""}